{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abaya\\\\Desktop\\\\Code\\\\university_code\\\\webassignment4\\\\client\\\\src\\\\context\\\\StateContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/createContext();\nexport const StateContext = ({\n  children\n}) => {\n  _s();\n  const [showCart, setShowCart] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [searchText, setSearchText] = useState(\"\");\n  let foundProduct;\n  const addToCart = (product, quantity) => {\n    const checkProductInCart = cartItems.find(item => item._id === product._id);\n    setTotalPrice(prevTotalPrice => {\n      return prevTotalPrice + product.price * quantity;\n    });\n    if (checkProductInCart) {\n      const updatedCartItems = cartItems.map(cartProduct => {\n        if (cartProduct._id === product._id) return {\n          ...cartProduct,\n          quantity: cartProduct.quantity + quantity\n        };else {\n          return cartProduct;\n        }\n      });\n      setCartItems(updatedCartItems);\n    } else {\n      product.quantity = quantity;\n      setCartItems([...cartItems, {\n        ...product\n      }]);\n    }\n    toast.success(`${qty} ${product.name} added to the cart`);\n  };\n  const onRemove = id => {\n    foundProduct = cartItems.find(item => item._id === id);\n    const newCartItems = cartItems.filter(item => item._id !== id);\n    setTotalPrice(prevTotalPrice => prevTotalPrice - foundProduct.price * foundProduct.quantity);\n    setTotalQuanties(prevTotalQuanties => prevTotalQuanties - foundProduct.quantity);\n    setCartItems(newCartItems);\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      showCart,\n      setShowCart,\n      cartItems,\n      totalPrice,\n      addToCart,\n      onRemove,\n      setCartItems,\n      setTotalPrice,\n      setSearchText,\n      searchText,\n      signOut\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(StateContext, \"1C/b0sZjfFrhWVBB8TPpdjP/yKA=\");\n_c = StateContext;\nexport const useStateContext = () => {\n  _s2();\n  return useContext(Context);\n};\n_s2(useStateContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"StateContext\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","Context","StateContext","children","_s","showCart","setShowCart","cartItems","setCartItems","totalPrice","setTotalPrice","searchText","setSearchText","foundProduct","addToCart","product","quantity","checkProductInCart","find","item","_id","prevTotalPrice","price","updatedCartItems","map","cartProduct","toast","success","qty","name","onRemove","id","newCartItems","filter","setTotalQuanties","prevTotalQuanties","Provider","value","signOut","fileName","_jsxFileName","lineNumber","columnNumber","_c","useStateContext","_s2","$RefreshReg$"],"sources":["C:/Users/abaya/Desktop/Code/university_code/webassignment4/client/src/context/StateContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst Context = createContext();\r\n\r\nexport const StateContext = ({ children }) => {\r\n  const [showCart, setShowCart] = useState(false);\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [searchText, setSearchText] = useState(\"\");\r\n\r\n  let foundProduct;\r\n\r\n  const addToCart = (product, quantity) => {\r\n    const checkProductInCart = cartItems.find(\r\n      (item) => item._id === product._id\r\n    );\r\n\r\n    setTotalPrice((prevTotalPrice) => {\r\n      return prevTotalPrice + product.price * quantity;\r\n    });\r\n\r\n    if (checkProductInCart) {\r\n      const updatedCartItems = cartItems.map((cartProduct) => {\r\n        if (cartProduct._id === product._id)\r\n          return {\r\n            ...cartProduct,\r\n            quantity: cartProduct.quantity + quantity,\r\n          };\r\n        else {\r\n          return cartProduct;\r\n        }\r\n      });\r\n      setCartItems(updatedCartItems);\r\n    } else {\r\n      product.quantity = quantity;\r\n      setCartItems([...cartItems, { ...product }]);\r\n    }\r\n    toast.success(`${qty} ${product.name} added to the cart`);\r\n  };\r\n\r\n  const onRemove = (id) => {\r\n    foundProduct = cartItems.find((item) => item._id === id);\r\n    const newCartItems = cartItems.filter((item) => item._id !== id);\r\n    setTotalPrice(\r\n      (prevTotalPrice) =>\r\n        prevTotalPrice - foundProduct.price * foundProduct.quantity\r\n    );\r\n    setTotalQuanties(\r\n      (prevTotalQuanties) => prevTotalQuanties - foundProduct.quantity\r\n    );\r\n    setCartItems(newCartItems);\r\n  };\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        showCart,\r\n        setShowCart,\r\n        cartItems,\r\n        totalPrice,\r\n        addToCart,\r\n        onRemove,\r\n        setCartItems,\r\n        setTotalPrice,\r\n        setSearchText,\r\n        searchText,\r\n        signOut,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n\r\nexport const useStateContext = () => useContext(Context);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}